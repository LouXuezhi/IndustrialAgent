APP_ENV=local
APP_NAME=Industrial QA Backend

# Security
# Leave empty and set per environment
API_TOKEN=

# Database (required)
# MySQL connection string format: mysql+aiomysql://user:password@host:port/database
DATABASE_URL=

# Vector DB
VECTOR_DB_URI=chroma://./chroma_store
STORAGE_DIR=data/uploads
STORAGE_DIR=data/uploads

# Models
EMBEDDING_MODEL=bge-large
LLM_PROVIDER=openai
LLM_MODEL=gpt-4o-mini
OPENAI_API_KEY=
# Reranker (Re-ranking)
# RERANKER_MODEL=BAAI/bge-reranker-base  # 重排序模型，默认使用中文模型
# ENABLE_RERANK=true                      # 是否启用重排序（默认 true）
# RERANK_CANDIDATE_COUNT=0                # 重排序候选数量，0表示使用 top_k+3，>0表示固定数量
# RERANK_CACHE_ENABLE=true                # 是否启用重排序缓存（默认 true）
# RERANK_CACHE_TTL=7200                   # 重排序缓存过期时间（秒），默认2小时
# HF_ENDPOINT=https://hf-mirror.com      # Hugging Face 镜像（国内用户推荐，解决下载问题）
# TOKENIZERS_PARALLELISM=false           # 禁用 tokenizers 并行化警告（推荐设置为 false）

# Query Expansion (查询扩展/同义词)
# SYNONYM_DICT_PATH=                      # 同义词词典文件路径（JSON格式），留空使用内置词典
# ENABLE_QUERY_EXPANSION=true             # 是否启用查询扩展（默认 true）
# USE_LLM_EXPANSION=false                 # 是否使用 LLM 生成扩展词（需要 LLM 配置，默认 false）
# If using DashScope/Qwen (OpenAI-compatible endpoint)
# LLM_PROVIDER=dashscope
# EMBEDDING_MODEL=text-embedding-v4
# LLM_MODEL=qwen-plus            # adjust as needed
# Legacy single key (if both embedding/LLM共用)
DASHSCOPE_API_KEY=
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# Optional: separate keys for embedding vs LLM
# DASHSCOPE_EMBEDDING_API_KEY=
# DASHSCOPE_EMBEDDING_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
# DASHSCOPE_LLM_API_KEY=
# DASHSCOPE_LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# CORS
ALLOWED_ORIGINS=["*"]

# Telemetry
TELEMETRY_SAMPLE_RATE=0.0

# JWT
JWT_SECRET=change-me
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRES_MINUTES=60

# Redis
# Redis connection string format: redis://[password@]host:port/db
# Examples:
#   redis://localhost:6379/0                    # Local, no password, database 0
#   redis://:password@localhost:6379/0           # With password
#   redis://user:password@localhost:6379/1       # With user and password, database 1
#   rediss://localhost:6380/0                    # SSL/TLS connection
REDIS_URL=redis://localhost:6379/0

# Search Cache (搜索缓存)
ENABLE_SEARCH_CACHE=true                        # 是否启用搜索缓存（默认 true）
SEARCH_CACHE_TTL=3600                           # 搜索缓存过期时间（秒），默认1小时

# Email (Aliyun DirectMail)
ALIYUN_ACCESS_KEY_ID=
ALIYUN_ACCESS_KEY_SECRET=
ALIYUN_REGION=cn-hangzhou
ALIYUN_SMTP_PASSWORD=
FROM_EMAIL=noreply@example.com
FROM_NAME=Industrial QA System

# Frontend URL (for verification/reset links)
FRONTEND_URL=http://localhost:3000

